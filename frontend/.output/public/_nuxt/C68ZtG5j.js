var Z=Object.defineProperty;var H=(i,s,l)=>s in i?Z(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l;var w=(i,s,l)=>H(i,typeof s!="symbol"?s+"":s,l);import{a as O}from"./C8DqakIB.js";import{n as S,r as Q,q as U,o as n,c as r,a as t,s as J,_ as I,u as M,v as C,x as V,y as o,F as b,z as x,A as P,p as B,e as E,b as $,w as W,t as g,B as X,C as aa,D as ta,E as ea}from"./Bu0XVOAa.js";import{u as R}from"./DmHGD0s0.js";import{_ as sa}from"./BTPOsQVr.js";import{_ as F}from"./DjdhMgzQ.js";const na={class:"rating"},ra={class:"rating__stars"},ia=J('<label class="rating__label" for="rating-1" data-v-a56a09e1><svg class="rating__star" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" data-v-a56a09e1><g transform="translate(16,16)" data-v-a56a09e1><circle class="rating__star-ring" fill="none" stroke="#000" stroke-width="16" r="8" transform="scale(0)" data-v-a56a09e1></circle></g><g stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-a56a09e1><g transform="translate(16,16) rotate(180)" data-v-a56a09e1><polygon class="rating__star-stroke" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="none" data-v-a56a09e1></polygon><polygon class="rating__star-fill" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="#000" data-v-a56a09e1></polygon></g><g transform="translate(16,16)" stroke-dasharray="12 12" stroke-dashoffset="12" data-v-a56a09e1><polyline class="rating__star-line" transform="rotate(0)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(72)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(144)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(216)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(288)" points="0 4,0 16" data-v-a56a09e1></polyline></g></g></svg><span class="rating__sr" data-v-a56a09e1>1 star—Terrible</span></label><label class="rating__label" for="rating-2" data-v-a56a09e1><svg class="rating__star" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" data-v-a56a09e1><g transform="translate(16,16)" data-v-a56a09e1><circle class="rating__star-ring" fill="none" stroke="#000" stroke-width="16" r="8" transform="scale(0)" data-v-a56a09e1></circle></g><g stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-a56a09e1><g transform="translate(16,16) rotate(180)" data-v-a56a09e1><polygon class="rating__star-stroke" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="none" data-v-a56a09e1></polygon><polygon class="rating__star-fill" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="#000" data-v-a56a09e1></polygon></g><g transform="translate(16,16)" stroke-dasharray="12 12" stroke-dashoffset="12" data-v-a56a09e1><polyline class="rating__star-line" transform="rotate(0)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(72)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(144)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(216)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(288)" points="0 4,0 16" data-v-a56a09e1></polyline></g></g></svg><span class="rating__sr" data-v-a56a09e1>2 stars—Bad</span></label><label class="rating__label" for="rating-3" data-v-a56a09e1><svg class="rating__star" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" data-v-a56a09e1><g transform="translate(16,16)" data-v-a56a09e1><circle class="rating__star-ring" fill="none" stroke="#000" stroke-width="16" r="8" transform="scale(0)" data-v-a56a09e1></circle></g><g stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-a56a09e1><g transform="translate(16,16) rotate(180)" data-v-a56a09e1><polygon class="rating__star-stroke" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="none" data-v-a56a09e1></polygon><polygon class="rating__star-fill" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="#000" data-v-a56a09e1></polygon></g><g transform="translate(16,16)" stroke-dasharray="12 12" stroke-dashoffset="12" data-v-a56a09e1><polyline class="rating__star-line" transform="rotate(0)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(72)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(144)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(216)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(288)" points="0 4,0 16" data-v-a56a09e1></polyline></g></g></svg><span class="rating__sr" data-v-a56a09e1>3 stars—OK</span></label><label class="rating__label" for="rating-4" data-v-a56a09e1><svg class="rating__star" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" data-v-a56a09e1><g transform="translate(16,16)" data-v-a56a09e1><circle class="rating__star-ring" fill="none" stroke="#000" stroke-width="16" r="8" transform="scale(0)" data-v-a56a09e1></circle></g><g stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-a56a09e1><g transform="translate(16,16) rotate(180)" data-v-a56a09e1><polygon class="rating__star-stroke" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="none" data-v-a56a09e1></polygon><polygon class="rating__star-fill" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="#000" data-v-a56a09e1></polygon></g><g transform="translate(16,16)" stroke-dasharray="12 12" stroke-dashoffset="12" data-v-a56a09e1><polyline class="rating__star-line" transform="rotate(0)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(72)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(144)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(216)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(288)" points="0 4,0 16" data-v-a56a09e1></polyline></g></g></svg><span class="rating__sr" data-v-a56a09e1>4 stars—Good</span></label><label class="rating__label" for="rating-5" data-v-a56a09e1><svg class="rating__star" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" data-v-a56a09e1><g transform="translate(16,16)" data-v-a56a09e1><circle class="rating__star-ring" fill="none" stroke="#000" stroke-width="16" r="8" transform="scale(0)" data-v-a56a09e1></circle></g><g stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-a56a09e1><g transform="translate(16,16) rotate(180)" data-v-a56a09e1><polygon class="rating__star-stroke" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="none" data-v-a56a09e1></polygon><polygon class="rating__star-fill" points="0,15 4.41,6.07 14.27,4.64 7.13,-2.32 8.82,-12.14 0,-7.5 -8.82,-12.14 -7.13,-2.32 -14.27,4.64 -4.41,6.07" fill="#000" data-v-a56a09e1></polygon></g><g transform="translate(16,16)" stroke-dasharray="12 12" stroke-dashoffset="12" data-v-a56a09e1><polyline class="rating__star-line" transform="rotate(0)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(72)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(144)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(216)" points="0 4,0 16" data-v-a56a09e1></polyline><polyline class="rating__star-line" transform="rotate(288)" points="0 4,0 16" data-v-a56a09e1></polyline></g></g></svg><span class="rating__sr" data-v-a56a09e1>5 stars—Excellent</span></label><p class="rating__display" data-rating="1" hidden data-v-a56a09e1>Terrible</p><p class="rating__display" data-rating="2" hidden data-v-a56a09e1>Bad</p><p class="rating__display" data-rating="3" hidden data-v-a56a09e1>OK</p><p class="rating__display" data-rating="4" hidden data-v-a56a09e1>Good</p><p class="rating__display" data-rating="5" hidden data-v-a56a09e1>Excellent</p>',10),K="http://localhost:3100",oa=S({__name:"starRating",props:{title:{},movieId:{}},setup(i){class s{constructor(a){w(this,"ratings");w(this,"rating");w(this,"el");this.ratings=[{id:1,name:"Terrible"},{id:2,name:"Bad"},{id:3,name:"OK"},{id:4,name:"Good"},{id:5,name:"Excellent"}],this.rating=null,this.el=document.querySelector(a),this.init()}init(){var a,d;(a=this.el)==null||a.addEventListener("change",this.updateRating.bind(this));try{(d=this.el)==null||d.reset()}catch{console.error("Element isn't a form.")}}updateRating(a){var q,A;const d=a.target;Array.from(((q=this.el)==null?void 0:q.querySelectorAll('[for*="rating"]'))||[]).forEach(y=>{y.className="rating__label"});const u=this.ratings.find(y=>y.id===+d.value),k=((A=this.rating)==null?void 0:A.id)||0;let c=0;this.rating=u||null,this.ratings.forEach(y=>{var j,D,L,N;const{id:f}=y,Y=(j=this.el)==null?void 0:j.querySelector(`[for="rating-${f}"]`);f>k+1&&f<=(((D=this.rating)==null?void 0:D.id)||0)&&(++c,Y.classList.add(`rating__label--delay${c}`));const T=(L=this.el)==null?void 0:L.querySelector(`[data-rating="${f}"]`);((N=this.rating)==null?void 0:N.id)!==f?T.setAttribute("hidden","true"):T.removeAttribute("hidden")})}}const l=i,p=async _=>{try{const a={title:l.title,rating:_,movieId:l.movieId};(await O.post(K+"/rate",a,{withCredentials:!0})).data.status===401&&(window.alert("Please login first"),new s("form.rating")),console.log(a)}catch(a){console.error(a),a.response.status===401&&(window.alert("Please login first"),new s("form.rating"))}},e=Q(0),m=async()=>{try{const _=l.title,a=await O.get(`${K}/get-rating/${_}`,{withCredentials:!0});a.data&&(console.log(a.data),e.value=a.data.rating,h(e.value))}catch(_){console.error(_)}},h=_=>{const a=document.querySelector(`#rating-${_}`);if(a){a.checked=!0;const d=new Event("change");a.dispatchEvent(d)}};return U(()=>{m()}),(_,a)=>(n(),r("form",na,[t("div",ra,[t("input",{id:"rating-1",class:"rating__input rating__input-1",type:"radio",name:"rating",value:"1",onClick:a[0]||(a[0]=d=>p(1))}),t("input",{id:"rating-2",class:"rating__input rating__input-2",type:"radio",name:"rating",value:"2",onClick:a[1]||(a[1]=d=>p(2))}),t("input",{id:"rating-3",class:"rating__input rating__input-3",type:"radio",name:"rating",value:"3",onClick:a[2]||(a[2]=d=>p(3))}),t("input",{id:"rating-4",class:"rating__input rating__input-4",type:"radio",name:"rating",value:"4",onClick:a[3]||(a[3]=d=>p(4))}),t("input",{id:"rating-5",class:"rating__input rating__input-5",type:"radio",name:"rating",value:"5",onClick:a[4]||(a[4]=d=>p(5))}),ia])]))}}),la=I(oa,[["__scopeId","data-v-a56a09e1"]]),G=i=>(B("data-v-3e7a2b72"),i=i(),E(),i),da={class:"container"},_a=G(()=>t("div",{class:"trailer-p"},[t("p",null,"Trailers")],-1)),ca={key:0,class:"trailers_container"},pa={class:"trailers"},ga=["src"],va={key:1,class:"error"},ma=G(()=>t("p",null,"⚠️Trailers not available⚠️",-1)),ha=[ma],ua=S({__name:"trailers",async setup(i){let s,l;const{id:p}=M().params,{data:e}=([s,l]=C(()=>R(`/api/trailer/${p}`,"$h1ArYAnkyZ")),s=await s,l(),s);console.log("trailer : ",e);let m=[];for(let a of e.value.results)a.key&&m.push(a.key);const h=V(()=>m.slice(0,10)),_=V(()=>({width:"370px",height:"320px",marginLeft:"15px","@media screen and (max-width: 430px)":{width:"27px",height:"190px"}}));return(a,d)=>(n(),r("div",da,[_a,o(h).length>0?(n(),r("div",ca,[(n(!0),r(b,null,x(o(h),u=>(n(),r("div",pa,[t("iframe",{src:`https://www.youtube.com/embed/${u}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",style:P(o(_))},null,12,ga)]))),256))])):(n(),r("div",va,ha))]))}}),ya=I(ua,[["__scopeId","data-v-3e7a2b72"]]),z=i=>(B("data-v-0f52f6ae"),i=i(),E(),i),fa={class:"container"},ka=z(()=>t("h1",null,"Similar Movies",-1)),wa={key:0,class:"movies"},$a={class:"similar-movies"},ba={class:"movie"},xa=["src"],Sa={key:1,class:"movie_image",src:F,alt:"poster"},Ia={key:1,class:"error"},Ca=z(()=>t("p",null,"⚠️Similar movies not available⚠️",-1)),Ba=[Ca],Ea=S({__name:"similar-movies",async setup(i){let s,l;const{id:p}=M().params,{data:e}=([s,l]=C(()=>R(`/api/similar-movies/${p}`,"$BMuZbHVQjD")),s=await s,l(),s);return console.log("similar movies : ",e),(m,h)=>{const _=sa;return n(),r("div",fa,[ka,o(e).results.length>0?(n(),r("div",wa,[(n(!0),r(b,null,x(o(e).results,a=>(n(),r("div",$a,[t("div",ba,[$(_,{to:`/detail/${a.id}`},{default:W(()=>[a.poster_path?(n(),r("img",{key:0,class:"movie_image",src:"https://image.tmdb.org/t/p/w500"+a.poster_path},null,8,xa)):(n(),r("img",Sa)),t("p",null,g(a.title),1)]),_:2},1032,["to"])])]))),256))])):(n(),r("div",Ia,Ba))])}}}),Ra=I(Ea,[["__scopeId","data-v-0f52f6ae"]]),v=i=>(B("data-v-5a462202"),i=i(),E(),i),qa={key:0,class:"container"},Aa=["src"],Ta={key:1,class:"poster",src:F,alt:"poster"},ja={class:"content"},Da={class:"title_and_genres"},La={class:"title"},Na={class:"genres"},Oa={key:0},Va={key:1,class:"error"},Ka={class:"descriptions"},Ma={class:"description_item"},Pa=v(()=>t("h3",null,"Release Date: ",-1)),Fa={class:"description_item"},Ga=v(()=>t("h3",null,"Language: ",-1)),za={class:"description_item"},Ya=v(()=>t("h3",null,"Origin Country: ",-1)),Za={class:"description_item"},Ha=v(()=>t("h3",null,"Popularity: ",-1)),Qa=v(()=>t("h3",null,"Overview",-1)),Ua=v(()=>t("div",{class:"production_companies"},[t("p",null,"Production Companies")],-1)),Ja={class:"companies"},Wa=["src"],Xa={key:1,class:"error"},at=v(()=>t("p",null,"⚠️Production companies not available⚠️",-1)),tt=[at],et=S({__name:"[id]",async setup(i){let s,l;const{id:p}=X().params,{data:e,error:m}=([s,l]=C(()=>R(`/api/detail/${p}`,"$qTwq0iy38b")),s=await s,l(),s);return(h,_)=>{var k;const a=la,d=ya,u=Ra;return o(e)?(n(),r("div",qa,[t("div",{class:"background_image",style:P({backgroundImage:`url('https://image.tmdb.org/t/p/w500${o(e).backdrop_path}')`})},[o(e).poster_path?(n(),r("img",{key:0,class:"poster",src:"https://image.tmdb.org/t/p/w500"+o(e).poster_path,alt:"poster"},null,8,Aa)):(n(),r("img",Ta)),t("div",ja,[t("div",Da,[t("h1",La,g(o(e).title),1),t("div",Na,[o(e).genres.length>0?(n(),r("ul",Oa,[(n(!0),r(b,null,x(o(e).genres,c=>(n(),r("li",{key:c.id},"🏷️"+g(c.name),1))),128))])):(n(),r("ul",Va," ⚠️No genres available⚠️ "))])]),t("div",Ka,[$(a,{title:o(e).title,movieId:o(e).id},null,8,["title","movieId"]),t("div",Ma,[Pa,t("p",null,g(o(e).release_date),1)]),t("div",Fa,[Ga,t("p",null,g((k=o(e).spoken_languages[0])==null?void 0:k.name),1)]),t("div",za,[Ya,t("p",null,g(o(e).origin_country[0]),1)]),t("div",Za,[Ha,t("p",null,g(o(e).popularity),1)]),Qa,t("p",null,g(o(e).overview),1)])])],4),$(d),Ua,t("div",Ja,[o(e).production_companies.logo_path?(n(!0),r(b,{key:0},x(o(e).production_companies,c=>ta((n(),r("div",{class:"company",key:c.id},[t("img",{src:"https://image.tmdb.org/t/p/w500"+c.logo_path,alt:"logo"},null,8,Wa),t("p",null,g(c==null?void 0:c.name),1)])),[[ea,c.logo_path]])),128)):(n(),r("div",Xa,tt))]),$(u)])):aa("",!0)}}}),dt=I(et,[["__scopeId","data-v-5a462202"]]);export{dt as default};
