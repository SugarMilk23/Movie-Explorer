import{_ as A}from"./BTPOsQVr.js";import{n as b,X as w,w as i,Y as V,o as c,c as h,a as o,K as L,C as B,p as S,e as M,_ as T,r as m,Z as O,q as U,b as _,y as f,d as e,J as H,$ as Y,a0 as q}from"./Bu0XVOAa.js";import{a as y}from"./C8DqakIB.js";const v=a=>(S("data-v-c243d468"),a=a(),M(),a),z=v(()=>o("h2",null,"Logout Confirmation",-1)),E=v(()=>o("p",null,"Are you sure you want to log out?",-1)),F={class:"button-group"},J=v(()=>o("span",null,"Yes, Logout",-1)),K=[J],P=v(()=>o("span",null,"Cancel",-1)),R=[P],X=b({__name:"logout",props:{isOpen:{type:Boolean}},emits:["close","confirm"],setup(a){return(n,t)=>(c(),w(V,{name:"modal"},{default:i(()=>[n.isOpen?(c(),h("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=p=>n.$emit("close"))},[o("div",{class:"modal-content",onClick:t[2]||(t[2]=L(()=>{},["stop"]))},[z,E,o("div",F,[o("button",{onClick:t[0]||(t[0]=p=>n.$emit("confirm")),class:"confirm-btn"},K),o("button",{onClick:t[1]||(t[1]=p=>n.$emit("close")),class:"cancel-btn"},R)])])])):B("",!0)]),_:1}))}}),Z=T(X,[["__scopeId","data-v-c243d468"]]),s=a=>(S("data-v-f43462b2"),a=a(),M(),a),j={class:"container"},D={class:"header"},G={class:"info"},Q={class:"home"},W=s(()=>o("span",{class:"material-icons"},"home",-1)),oo=s(()=>o("span",{class:"material-icons"},"group",-1)),so=s(()=>o("span",{class:"material-icons"},"call",-1)),to=s(()=>o("span",{class:"material-icons"},"login",-1)),eo=s(()=>o("span",{class:"material-icons"},"logout",-1)),ao=s(()=>o("li",null,[o("span",{class:"material-icons"}," person"),e(" Profile")],-1)),no=s(()=>o("span",{class:"material-icons"}," favorite",-1)),lo=s(()=>o("span",{class:"material-icons"}," rate_review",-1)),io=s(()=>o("span",{class:"material-icons"}," notifications",-1)),co=s(()=>o("span",{class:"material-icons"}," settings",-1)),ro=s(()=>o("footer",null,"Copyright © 2024 Tan",-1)),$="http://localhost:3100",uo=b({__name:"default",setup(a){const n=m(""),t=()=>{n.value=""};O("searchByTitle",n);const p=()=>{t()},g=m(!1),I=()=>{g.value=!g.value},r=m(!1),C=m(!1),N=()=>{C.value=!0},k=()=>{C.value=!1},d=async()=>{(await y.get($+"/authenticate-user",{withCredentials:!0})).status===200?r.value=!0:r.value=!1};U(async()=>{try{await d()}catch(l){console.error("Authentication failed",l)}});const x=async()=>{try{await y.post($+"/logout",{},{withCredentials:!0}),r.value=!1,k(),q("/")}catch(l){console.error("Logout failed",l)}};return(l,_o)=>{const u=A;return c(),h("body",null,[o("div",j,[o("div",D,[o("div",G,[o("ul",null,[o("li",Q,[_(u,{to:"/",onClick:p},{default:i(()=>[W,e("  Home")]),_:1})]),o("li",null,[_(u,{to:"/"},{default:i(()=>[oo,e("  About Us")]),_:1})]),o("li",null,[_(u,{to:"/"},{default:i(()=>[so,e("  Contact")]),_:1})]),o("li",null,[f(r)?(c(),h("a",{key:1,href:"#",onClick:L(N,["prevent"])},[eo,e("  Logout ")])):(c(),w(u,{key:0,to:"/login"},{default:i(()=>[to,e("  Login")]),_:1}))])])])]),f(r)?(c(),h("nav",{key:0,class:H(["sideBar",{open:f(g)}])},[o("span",{class:"material-icons menu",onClick:I},"menu"),o("ul",null,[ao,o("li",{onClick:d},[no,e("  Favorites ")]),_(u,{to:"/ratedMovies"},{default:i(()=>[o("li",{onClick:d},[lo,e(" Rated Movies ")])]),_:1}),o("li",{onClick:d},[io,e(" Notification ")]),o("li",{onClick:d},[co,e(" Settings ")])])],2)):B("",!0),Y(l.$slots,"default",{},void 0),ro]),_(Z,{"is-open":f(C),onClose:k,onConfirm:x},null,8,["is-open"])])}}}),ho=T(uo,[["__scopeId","data-v-f43462b2"]]);export{ho as default};
