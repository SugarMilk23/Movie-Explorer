import{u as b}from"./DmHGD0s0.js";import{a as w}from"./C8DqakIB.js";import{n as $,r as _,x as k,q as I,c as a,a as t,A as h,F as C,z as S,o as l,t as o,C as R,p as z,e as B,_ as F}from"./Bu0XVOAa.js";const r=p=>(z("data-v-fd81fb6f"),p=p(),B(),p),V={class:"container"},A=r(()=>t("h1",null,"Rated Movies",-1)),E={class:"carousel-container"},N={class:"carousel-view"},U={key:0},X=r(()=>t("p",null,"⭐",-1)),q=["src"],D={key:1},G=r(()=>t("p",null,"⭐⭐",-1)),J=["src"],L={key:2},P=r(()=>t("p",null,"⭐⭐⭐",-1)),Y=["src"],j={key:3},H=r(()=>t("p",null,"⭐⭐⭐⭐",-1)),K=["src"],O={key:4},Q=r(()=>t("p",null,"⭐⭐⭐⭐⭐",-1)),T=["src"],W="http://localhost:3100",Z=$({__name:"index",setup(p){const c=_([]),m=async()=>{const n=await w.get(`${W}/rated-movies`,{withCredentials:!0});c.value=n.data,console.log(c.value)},g=async()=>{for(const n of c.value){const{data:e}=await b(`/api/detail/${n.movie_id}`,"$d0XVGJUEA6");e.value&&e.value.poster_path&&(n.poster_path=e.value.poster_path)}console.log(c.value)},f=_(null),i=_(0),v=k(()=>({transform:`translateX(calc(50% - ${i.value*200}px - 400px))`})),y=n=>{const e=Math.abs(n-i.value),s=Math.max(.8,1-e*.1),u=Math.max(.5,1-e*.2),x=100-e;return{transform:`perspective(1000px) rotateY(${(n-i.value)*5}deg) scale(${s})`,opacity:u,zIndex:x}},d=n=>{const e=i.value+n;e>=0&&e<c.value.length&&(i.value=e)};return I(async()=>{await m(),await g()}),(n,e)=>(l(),a("div",V,[A,t("div",E,[t("button",{class:"nav-button prev",onClick:e[0]||(e[0]=s=>d(-1))},"<"),t("div",N,[t("div",{class:"rated-movies-container",ref_key:"carouselRef",ref:f,style:h(v.value)},[(l(!0),a(C,null,S(c.value,(s,u)=>(l(),a("div",{key:s.id,class:"ratedMovie",style:h(y(u))},[s.rating==1?(l(),a("div",U,[X,t("img",{src:`https://image.tmdb.org/t/p/w500/${s.poster_path}`,alt:"poster"},null,8,q),t("h3",null,o(s.title),1),t("p",null,"rating: "+o(s.rating),1)])):s.rating==2?(l(),a("div",D,[G,t("img",{src:`https://image.tmdb.org/t/p/w500/${s.poster_path}`,alt:"poster"},null,8,J),t("h3",null,o(s.title),1),t("p",null,"rating: "+o(s.rating),1)])):s.rating==3?(l(),a("div",L,[P,t("img",{src:`https://image.tmdb.org/t/p/w500/${s.poster_path}`,alt:"poster"},null,8,Y),t("h3",null,o(s.title),1),t("p",null,"rating: "+o(s.rating),1)])):s.rating==4?(l(),a("div",j,[H,t("img",{src:`https://image.tmdb.org/t/p/w500/${s.poster_path}`,alt:"poster"},null,8,K),t("h3",null,o(s.title),1),t("p",null,"rating: "+o(s.rating),1)])):s.rating==5?(l(),a("div",O,[Q,t("img",{src:`https://image.tmdb.org/t/p/w500/${s.poster_path}`,alt:"poster"},null,8,T),t("h3",null,o(s.title),1),t("p",null,"rating: "+o(s.rating),1)])):R("",!0)],4))),128))],4)]),t("button",{class:"nav-button next",onClick:e[1]||(e[1]=s=>d(1))},">")])]))}}),et=F(Z,[["__scopeId","data-v-fd81fb6f"]]);export{et as default};
